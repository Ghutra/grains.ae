<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Grains Shop | Grains Hub</title>
  <meta name="description" content="Dubai’s trusted B2B grain shop. Verified suppliers, compliance-first, poetic restraint. Filter by source, tier, use." />
  <meta name="keywords" content="grains shop, Dubai B2B, verified rice, basmati, FCL, compliance, ritual grains" />
  <meta name="author" content="Shahid Bashir" />
  <link rel="canonical" href="https://grains.ae/shop" />
  <link rel="icon" href="/favicon.png" type="image/png" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- OG Tags -->
  <meta property="og:title" content="The Grains Shop – Verified B2B Grain Hub" />
  <meta property="og:description" content="Specialist picks. Verified sources. Dubai’s trusted B2B grain shop." />
  <meta property="og:image" content="https://grains.ae/assets/img/shop-hero.jpg" />
  <meta property="og:url" content="https://grains.ae/shop" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Store",
    "name": "The Grains Shop",
    "url": "https://grains.ae/shop",
    "image": "https://grains.ae/assets/img/shop-hero.jpg",
    "description": "Dubai's compliance-first B2B grain marketplace.",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Dubai",
      "addressCountry": "AE"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+971585521976",
      "email": "letstalk@grains.ae",
      "contactType": "Customer Service"
    }
  }
  </script>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:#fdfdf9; font-family:'Helvetica Neue',sans-serif; color:#222; line-height:1.7; }

    /* ---------- NAVBAR ---------- */
    .navbar {
      background:#C1A875; padding:12px 20px; position:sticky; top:0; z-index:1000;
      display:flex; justify-content:center; align-items:center;
      box-shadow:0 2px 10px rgba(0,0,0,.1); gap:40px;
      flex-wrap:wrap;
    }
    .logo {
      color:#fff; font-weight:bold; font-size:1.1rem; text-decoration:none;
      display:flex; align-items:center; gap:8px;
    }
    .logo img { width:24px; height:24px; }
    .nav-links {
      display:flex; list-style:none; gap:20px; margin:0; padding:0;
    }
    .nav-links a {
      color:#fff !important; text-decoration:none; font-size:14px; font-weight:bold;
      padding:8px 12px; border-radius:4px;
      transition:background 0.3s ease, color 0.3s ease;
      display:flex; align-items:center;
    }
    .nav-links a:hover {
      background:#fff !important; color:#C1A875 !important;
    }
    .nav-links a.active {
      background:#fff !important; color:#C1A875 !important;
    }

    .hamburger { display:none; flex-direction:column; cursor:pointer; gap:5px; }
    .hamburger span { width:25px; height:3px; background:#fff; border-radius:2px; }

    @media (max-width:768px) {
  .navbar { 
    justify-content:space-between; 
    padding:10px 16px; 
    gap:0; 
  }
  .logo { font-size:1rem; }
  .hamburger { display:flex; }
  .nav-links {
    position:absolute; top:100%; left:0; right:0; background:#C1A875;
    flex-direction:column; padding:0; margin:0;
    max-height:0; overflow:hidden; transition:max-height .35s ease;
    box-shadow:0 4px 10px rgba(0,0,0,.1);
  }
  .nav-links.active { max-height:500px; }
  .nav-links a {
    text-align:center; width:100%; padding:14px;
    border-bottom:1px solid rgba(255,255,255,.1);
    display:block !important;
    color:#fff !important;
  }
}

    /* ---------- HERO ---------- */
    header {
      padding:80px 20px 60px;
      background:url('/assets/img/shop-hero.jpg') center/cover no-repeat;
      position:relative; color:#fff; text-align:center;
    }
    header::before { content:''; position:absolute; inset:0; background:rgba(0,0,0,.5); }
    header > * { position:relative; z-index:1; }
    header img { width:140px; margin-bottom:16px; }
    header h1 { font-size:36px; font-weight:500; margin-bottom:12px; }
    header p { font-size:18px; max-width:700px; margin:10px auto; opacity:.95; }

    /* ---------- FILTERS ---------- */
    #filters {
      background:#f8f5ec; padding:50px 20px; text-align:center;
    }
    #filters h2 {
      font-size:24px; color:#a07c3b; margin-bottom:28px;
    }
    #filter-form {
      display:grid; grid-template-columns:repeat(3, 1fr); gap:16px;
      max-width:900px; margin:auto;
    }
    @media (max-width:768px) {
      #filter-form { grid-template-columns:1fr; }
    }
    .filter-group {
      display:flex; flex-direction:column; gap:6px;
    }
    .filter-group label {
      font-weight:bold; color:#a07c3b; font-size:14px; text-align:left;
    }
    .filter-group select {
      padding:12px 14px; border:1px solid #ddd; border-radius:8px; background:#fff;
      font-size:15px; transition:border 0.3s, box-shadow 0.3s;
    }
    .filter-group select:focus {
      outline:none; border-color:#C1A875; box-shadow:0 0 0 3px rgba(193,168,117,.2);
    }

    /* ---------- PRODUCT GRID ---------- */
    .product-grid {
      display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));
      gap:24px; padding:50px 20px; max-width:1200px; margin:auto;
    }
    .product-card {
      background:#fff; border-radius:14px; overflow:hidden;
      box-shadow:0 6px 20px rgba(0,0,0,.08); transition:transform .3s, box-shadow .3s;
    }
    .product-card:hover {
      transform:translateY(-6px); box-shadow:0 12px 30px rgba(0,0,0,.14);
    }
    .product-card img {
      width:100%; height:200px; object-fit:cover;
    }
    .product-card .content {
      padding:20px; text-align:center;
    }
    .product-card h3 {
      font-size:1.2rem; color:#a07c3b; margin-bottom:10px;
    }
    .product-card p {
      font-size:0.95rem; color:#555; margin:6px 0;
    }
    .badge {
      background:#C1A875; color:#fff; padding:6px 12px; border-radius:6px;
      font-size:0.8rem; font-weight:bold; display:inline-block; margin:8px 0;
    }
    .btn-whatsapp {
      display:flex; align-items:center; justify-content:center; gap:8px;
      background:#25D366; color:#fff; padding:12px;
      border-radius:8px; text-decoration:none; font-weight:bold;
      margin-top:14px; font-size:0.95rem; transition:background .3s;
    }
    .btn-whatsapp:hover {
      background:#1ebe57;
    }
    .btn-whatsapp i { font-size:1.2em; }

    /* Loading & Empty States */
    .loading, .empty {
      grid-column: 1 / -1; text-align:center; padding:40px; color:#a07c3b; font-size:1.1rem;
    }

    /* ---------- ALLIYA ---------- */
    .alliya-float {
      position:fixed; right:20px; background:#C1A875; color:#fff;
      padding:14px 20px; border-radius:30px; cursor:pointer;
      box-shadow:0 4px 16px rgba(0,0,0,.2); display:flex; align-items:center;
      gap:10px; font-weight:bold; z-index:999; font-size:14px;
      transition:transform .3s, background .3s;
    }
    .alliya-float:hover { background:#a07c3b; transform:scale(1.05); }
    @media (max-width:768px) { .alliya-float { bottom:80px; } }
    @media (min-width:769px) { .alliya-float { bottom:20px; } }

    .modal {
      display:none; position:fixed; inset:0; background:rgba(0,0,0,.5);
      z-index:1000; justify-content:center; align-items:center; padding:20px;
    }
    .modal.active { display:flex; }
    .modal-content {
      background:#fff; border-radius:14px; width:90%; max-width:500px;
      padding:24px; position:relative; box-shadow:0 10px 30px rgba(0,0,0,.2);
    }
    .close { position:absolute; top:12px; right:16px; font-size:28px; cursor:pointer; color:#aaa; }
    .close:hover { color:#000; }

    .alliya-box h2 {
      display:flex; align-items:center; gap:10px; margin-bottom:18px; color:#a07c3b;
    }
    .alliya-box input {
      width:100%; padding:14px; border:1px solid #ddd; border-radius:8px;
      font-size:15px; transition:border .3s;
    }
    .alliya-box input:focus {
      outline:none; border-color:#C1A875; box-shadow:0 0 0 3px rgba(193,168,117,.2);
    }
    .alliya-box button {
      margin-top:12px; padding:12px 24px; background:#C1A875; color:#fff;
      border:none; border-radius:8px; cursor:pointer; font-weight:bold; width:100%;
    }
    .alliya-box button:hover { background:#a07c3b; }

    .suggestions {
      position:absolute; inset:100% 0 auto 0; background:#fff; border:1px solid #eee;
      border-radius:8px; max-height:160px; overflow-y:auto; z-index:10; margin-top:4px;
    }
    .suggestions div {
      padding:12px; cursor:pointer; border-bottom:1px solid #f0f0f0; font-size:14px;
    }
    .suggestions div:hover { background:#f8f5ec; }

    .reply {
      margin-top:16px; padding:14px; background:#f8f5ec; border-radius:8px;
      font-size:14px; text-align:center;
    }
    .reply a { color:#25D366; font-weight:bold; }

    footer {
      margin-top:80px; padding:24px; font-size:14px; color:#777; text-align:center;
    }
    .badge-footer {
      background:#C1A875; color:#fff; padding:6px 14px; border-radius:6px;
      font-weight:bold; font-size:.9rem; display:inline-block; margin-bottom:8px;
    }
    .contact-links a {
      color:#0056b3; text-decoration:none; margin:0 8px;
    }
    .contact-links a:hover { text-decoration:underline; }
    .contact-links .whatsapp i {
      color:#25D366; font-size:1.2em;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <a href="/" class="logo">
      <img src="/grains-logo.png" alt="Logo" width="24"> Grains Hub
    </a>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/why">Why</a></li>
      <li><a href="/pulse/index.html">Pulse</a></li>
      <li><a href="/trust">Trust</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/shop" class="active">Shop</a></li>
    </ul>
    <div class="hamburger" onclick="toggleMenu()">
      <span></span><span></span><span></span>
    </div>
  </nav>

  <!-- Hero -->
  <header>
    <img src="/grains-logo.png" alt="Grains Hub Logo" />
    <h1>The Grains Shop</h1>
    <p>Specialist picks. Verified sources. Dubai’s trusted B2B grain marketplace.</p>
  </header>

  <!-- Filters -->
  <section id="filters">
    <h2>Refine Your Search</h2>
    <form id="filter-form">
      <div class="filter-group">
        <label for="source">Source</label>
        <select id="source">
          <option value="">All Origins</option>
          <option value="India">India</option>
          <option value="Pakistan">Pakistan</option>
          <option value="Thailand">Thailand</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="tier">Tier</label>
        <select id="tier">
          <option value="">All Grades</option>
          <option value="verified">Verified Supplier</option>
          <option value="peer">Peer Rated</option>
          <option value="pre">Pre-Booking</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="use">Use</label>
        <select id="use">
          <option value="">All Purposes</option>
          <option value="basmati">Basmati</option>
          <option value="sella">Sella</option>
          <option value="irri">Irri 6</option>
        </select>
      </div>
    </form>
  </section>

  <!-- Product Grid -->
  <section>
    <div class="product-grid" id="product-grid">
      <div class="loading">Loading verified grains...</div>
    </div>
  </section>

  <!-- Alliya Float -->
  <div class="alliya-float" onclick="openModal()">
    <img src="/assets/img/alliya-icon.ico" alt="Alliya" width="24"> Ask Alliya
  </div>

  <!-- Alliya Modal -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">×</span>
      <div class="alliya-box">
        <h2><img src="/assets/img/alliya-icon.ico" alt="Alliya" width="24"> Ask Alliya</h2>
        <div style="position:relative;">
          <input type="text" id="modalInput" placeholder="Ask about stock, FCL, prices..." oninput="suggest(this.value, true)" />
          <div id="modalSuggestions" class="suggestions"></div>
        </div>
        <button onclick="askAlliya(true)">Verify</button>
        <div id="modalReply" class="reply"></div>
      </div>
    </div>
  </div>

  <footer>
    <div class="badge-footer">Microsoft Copilot Enabled</div><br>
    <div class="contact-links">
      <a href="mailto:letstalk@grains.ae">letstalk@grains.ae</a> |
      <a href="https://wa.me/971585521976" target="_blank" class="whatsapp">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </a>
    </div>
    <p>© 2025 Grains Hub. All rights reserved.</p>
  </footer>

  <!-- Scripts -->
  <script src="/assets/js/shop.js"></script>
  <script>
    // HAMBURGER MENU – BULLETPROOF
function toggleMenu() {
  const menu = document.querySelector('.nav-links');
  if (menu) menu.classList.toggle('active');
}

// Attach to hamburger
document.querySelector('.hamburger').onclick = toggleMenu;

// Close on link click
document.querySelectorAll('.nav-links a').forEach(link => {
  link.addEventListener('click', () => {
    document.querySelector('.nav-links')?.classList.remove('active');
  });
});
    // Alliya Modal
    function openModal() { document.getElementById('modal').classList.add('active'); }
    function closeModal() { document.getElementById('modal').classList.remove('active'); }

    // Suggestions
    const keywords = ['1121 sella', 'irri 6', 'sella basmati', 'pre-booking', 'FCL'];
    function suggest(val, modal = false) {
      const id = modal ? 'modalSuggestions' : 'suggestions';
      const box = document.getElementById(id); box.innerHTML = '';
      if (val.length < 2) return;
      keywords.filter(k => k.toLowerCase().includes(val.toLowerCase())).forEach(k => {
        const d = document.createElement('div');
        d.textContent = k; d.style.padding = '12px'; d.style.cursor = 'pointer';
        d.onclick = () => {
          const input = modal ? document.getElementById('modalInput') : document.getElementById('queryInput');
          input && (input.value = k); box.innerHTML = ''; askAlliya(modal);
        };
        box.appendChild(d);
      });
    }

    async function askAlliya(modal = false) {
      const input = modal ? document.getElementById('modalInput') : document.getElementById('queryInput');
      const reply = modal ? document.getElementById('modalReply') : document.getElementById('replyBox');
      const q = input ? input.value.trim() : '';
      if (!q) return;
      reply.innerHTML = 'Verifying...';
      try {
        const res = await fetch(`https://grains-backend.onrender.com/api/alliya?q=${encodeURIComponent(q)}`);
        const data = await res.json();
        reply.innerHTML = data.reply || `Try WhatsApp: <a href="https://wa.me/971585521976?text=${encodeURIComponent(q)}">Message Us</a>`;
      } catch {
        reply.innerHTML = 'Try WhatsApp: <a href="https://wa.me/971585521976">Click Here</a>';
      }
    }

    // === USE shop.js LOGIC ===
    window.filterShop = function(filters) {
      let filtered = window.allListings || [];

      if (filters.source) filtered = filtered.filter(i => i.origin === filters.source);
      if (filters.tier) {
        const map = { 'verified': 'Verified', 'peer': 'Peer', 'pre': 'Pre-Booking' };
        filtered = filtered.filter(i => i.badge.includes(map[filters.tier]));
      }
      if (filters.use) {
        filtered = filtered.filter(i => i.name.toLowerCase().includes(filters.use.toLowerCase()));
      }

      const grid = document.getElementById('product-grid');
      grid.innerHTML = '';
      if (filtered.length === 0) {
        grid.innerHTML = '<div class="empty">No products match your filters.</div>';
        return;
      }

      filtered.forEach(item => {
        const kgPrice = item.price.includes('USD') ? '' : ` • ${(parseFloat(item.price.replace('AED ', '')) / parseInt(item.size)).toFixed(2)} AED/kg`;
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <img src="/assets/img/${item.img}" alt="${item.name}">
          <div class="content">
            <h3>${item.name}</h3>
            <p><strong>Origin:</strong> ${item.origin}</p>
            <p><strong>Packaging:</strong> ${item.packaging}</p>
            <p><strong>Price:</strong> ${item.price}${kgPrice}</p>
            <p><strong>Stock:</strong> ${item.stock}</p>
            <span class="badge">${item.badge}</span>
            <a href="https://wa.me/971585521976?text=${encodeURIComponent('Inquiry: ' + item.name + ' - ' + item.price)}" class="btn-whatsapp" target="_blank">
              <i class="fab fa-whatsapp"></i> Get Quote
            </a>
          </div>
        `;
        grid.appendChild(card);
      });
    };

    // Trigger filter on change
    document.getElementById('filter-form').addEventListener('change', () => {
      const filters = {
        source: document.getElementById('source').value,
        tier: document.getElementById('tier').value,
        use: document.getElementById('use').value
      };
      window.filterShop(filters);
    });
  </script>
</body>
</html>
