<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FCL Booking – Grains Hub</title>
  <meta name="description" content="Book full container loads (FCL) from India, Pakistan, Thailand. 20ft & 40ft. Verified logistics." />
  <link rel="canonical" href="https://grains.ae/fcl" />
  <link rel="icon" href="../favicon.png" type="image/png" />

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background-color: #f9f9f9; font-family: 'Helvetica Neue', sans-serif; color: #333; line-height: 1.6; }

    /* Navbar */
    .navbar { background-color: #C1A875; padding: 10px 20px; position: sticky; top: 0; z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .logo { display: flex; align-items: center; gap: 8px; color: #fff; font-weight: bold; font-size: 1.1rem; text-decoration: none; }
    .logo img { width: 26px; height: 26px; }

    .nav-links { display: flex; list-style: none; gap: 20px; }
    .nav-links a { color: #fff; text-decoration: none; font-size: 14px; font-weight: bold; padding: 8px 12px; border-radius: 4px; transition: all 0.3s ease; }
    .nav-links a:hover { background-color: rgba(255,255,255,0.2); }
    .nav-links a.active { background-color: #fff; color: #C1A875; }

    .hamburger { display: none; flex-direction: column; cursor: pointer; gap: 5px; }
    .hamburger span { width: 25px; height: 3px; background-color: #fff; border-radius: 2px; }

    @media (max-width: 768px) {
      .nav-links { position: absolute; top: 100%; left: 0; right: 0; background-color: #C1A875; flex-direction: column; display: none; padding: 10px 0; }
      .nav-links.active { display: flex; }
      .hamburger { display: flex; }
    }

    /* Header */
    header { padding: 80px 20px 50px; background: url('../assets/img/container.jpg') center/cover no-repeat; position: relative; color: white; text-align: center; }
    header::before { content: ''; position: absolute; inset: 0; background: rgba(0,0,0,0.55); }
    header > * { position: relative; z-index: 1; }

    .hero-logo { width: 70px; height: 70px; margin-bottom: 15px; }

    header h1 { font-size: 34px; margin-bottom: 10px; }
    header p { font-size: 18px; max-width: 600px; margin: 0 auto; }

    .container { max-width: 700px; margin: 40px auto; padding: 0 20px; }

    /* Booking form */
    .booking-form { background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
    .step { display: none; }
    .step.active { display: block; }
    label { display: block; margin: 15px 0 8px; font-weight: bold; }
    select, input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; }
    button { margin-top: 20px; padding: 12px 20px; background: #C1A875; color: white; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; width: 100%; }
    button:hover { background: #b89a65; }

    /* Alliya Modal (matches alliya.js) */
    .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center; padding: 20px; }
    .modal.active { display: flex; }
    .modal-content { background: white; border-radius: 12px; width: 90%; max-width: 500px; padding: 20px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
    .close { position: absolute; top: 10px; right: 15px; font-size: 28px; cursor: pointer; color: #aaa; }
    .close:hover { color: #000; }

    .alliya-box h2 { display: flex; align-items: center; gap: 8px; margin-bottom: 16px; color: #a07c3b; }
    .alliya-box input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 15px; }
    .alliya-box button { margin-top: 10px; padding: 10px 20px; background: #C1A875; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
    .alliya-box button:hover { background: #a07c3b; }

    .suggestions { position: absolute; top: 100%; left: 0; right: 0; background: white; border: 1px solid #eee; border-radius: 6px; max-height: 150px; overflow-y: auto; z-index: 10; }
    .suggestions div { padding: 10px; cursor: pointer; border-bottom: 1px solid #f0f0f0; }
    .suggestions div:hover { background: #f8f5ec; }

    #alliyaResponse { margin-top: 16px; padding: 12px; background: #f8f5ec; border-radius: 6px; font-size: 14px; display: none; }
    #alliyaResponse a { color: #25D366; font-weight: bold; text-decoration: none; }

    footer { margin-top: 80px; padding: 20px; font-size: 14px; color: #777; text-align: center; }
    .badge { background-color: #C1A875; color: #fff; padding: 6px 12px; border-radius: 4px; font-weight: bold; font-size: 0.9rem; }
    .alliya-float {
  position: fixed;
  bottom: 100px;
  right: 20px;
  background: #C1A875;
  color: white;
  padding: 12px 16px;
  border-radius: 30px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: bold;
  z-index: 999;
}
.alliya-float img {
  width: 26px;
  height: 26px;
}
header {
  padding: 80px 20px 50px;
  position: relative;
  color: white;
  text-align: center;
}

header .overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 0;
}

header > * {
  position: relative;
  z-index: 1;
}
</style>
    <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Helvetica+Neue:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

  <nav class="navbar">
    <a href="/" class="logo">
      <img src="../assets/img/grains-logo.png" alt="Grains Hub">
      Grains Hub
    </a>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/why">Why</a></li>
      <li><a href="/pulse/index.html">Pulse</a></li>
      <li><a href="/trust">Trust</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/shop">Shop</a></li>
    </ul>
    <div class="hamburger">
      <span></span><span></span><span></span>
    </div>
  </nav>

 <header style="background: url('/assets/img/fcl-hero.jpg') center/cover no-repeat;">
  <div class="overlay"></div>

  <img src="/assets/img/grains-logo.png" class="hero-logo" alt="Grains Hub">

  <h1>FCL Booking</h1>
  <p>Full container loads from verified origins. 20ft (24MT) • 40ft (48MT). Dubai delivery in 7–10 days.</p>
</header>


 <div class="container">
  <div class="booking-form">

    <!-- STEP 1 -->
    <div class="step active" id="step1">
      <label>Origin</label>
      <select id="origin">
        <option>India</option>
        <option>Pakistan</option>
        <option>Thailand</option>
      </select>
      <button onclick="nextStep(2)">Next</button>
    </div>

    <!-- STEP 2 -->
    <div class="step" id="step2">
      <label>Container Type</label>
      <select id="container">
        <option>20ft (24MT)</option>
        <option>40ft (48MT)</option>
      </select>
      <button onclick="nextStep(3)">Next</button>
    </div>

    <!-- STEP 3 -->
    <div class="step" id="step3">
      <label>Grain Type</label>
      <input id="grain" type="text" placeholder="e.g., Basmati 1121" />
      <button onclick="nextStep(4)">Next</button>
    </div>

    <!-- STEP 4 (NEW CUSTOMER DETAILS) -->
    <div class="step" id="step4">
      <label>Your Full Name</label>
      <input id="custName" type="text" placeholder="Your Name" />

      <label>Email</label>
      <input id="custEmail" type="email" placeholder="you@example.com" />

      <label>Phone</label>
      <input id="custPhone" type="text" placeholder="+971..." />

      <label>Company (optional)</label>
      <input id="custCompany" type="text" placeholder="Company Name" />

      <label>Destination Port</label>
      <input id="custDestination" type="text" placeholder="e.g., Jebel Ali" />

      <label>Notes (optional)</label>
      <input id="custMessage" type="text" placeholder="Any notes..." />

      <button onclick="submitFCL()">Submit Booking</button>
    </div>

  </div>
</div>

<!-- Alliya Float Button -->
<div id="alliyaFloatBtn" class="alliya-float" onclick="openModal()">
  <img src="/assets/img/alliya-icon.ico" alt="Alliya" width="26"> Ask Alliya
</div>

<!-- Alliya Modal -->
<div id="alliyaModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">×</span>
    
    <div class="alliya-box">
      <h2><img src="/assets/img/alliya-icon.ico" alt="Alliya" width="26"> Ask Alliya</h2>
      
      <div class="alliya-query-wrapper">
        <input 
          type="text" 
          id="alliyaQuery" 
          placeholder="Ask about price, stock, FCL, compliance..." 
          oninput="showSuggestions(this.value)" 
          autocomplete="off"
        >
        <div id="suggestions" class="suggestions"></div>
      </div>
      
      <button onclick="askAlliya()">Send Question</button>
      <div id="alliyaResponse" class="reply"></div>
    </div>
  </div>
</div>

  <!-- Core scripts -->
  <script>
  const hamburger = document.querySelector('.hamburger');
  const navLinks = document.querySelector('.nav-links');
  hamburger.addEventListener('click', () => navLinks.classList.toggle('active'));

  async function submitFCL() {
  const origin = document.getElementById('origin').value;
  const container = document.getElementById('container').value;
  const grain = document.getElementById('grain').value || 'Any';

  const name = document.getElementById('custName').value;
  const email = document.getElementById('custEmail').value;
  const phone = document.getElementById('custPhone').value;
  const company = document.getElementById('custCompany').value || "N/A";
  const destinationPort = document.getElementById('custDestination').value;
  const message = document.getElementById('custMessage').value || "";

  if (!name || !email || !phone) {
    alert("Please fill your name, email, and phone.");
    return;
  }

  const payload = {
    name,
    email,
    phone,
    company,
    commodity: grain,
    quantity: container.includes("20ft") ? 24 : 48,
    containerType: container,
    originPort: origin,
    destinationPort,
    message
  };

  try {
    const res = await fetch("https://api-oim3h2hfza-uc.a.run.app/bookings", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const data = await res.json();

    if (data.success && data.bookingId) {
      window.location.href = `/fcl/confirmation.html?id=${encodeURIComponent(data.bookingId)}`;
    } else {
      alert("Something went wrong. Please try WhatsApp for now.");
    }
  } catch (e) {
    alert("Network error. Please try WhatsApp for now.");
  }
}
</script>

  <!-- Modular scripts -->
  <script type="module" src="/assets/js/firebase-init.js"></script>
  <script src="/assets/js/alliya.js"></script>
  <script src="/assets/js/stock.js"></script>
  <div include-html="/partials/footer.html"></div>
  <script src="/assets/js/include.js"></script>

</body>
</html>
